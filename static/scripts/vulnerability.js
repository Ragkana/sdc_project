//----------------------------------------------------------------------------------------------//
//--------------------------------------------- Tab --------------------------------------------//
//----------------------------------------------------------------------------------------------//
$(document).ready(function () {
    $("#myTab a").click(function (e) {
        e.preventDefault();
        $(this).tab("show");
    });
});

//----------------------------------------------------------------------------------------------//
//--------------------------------------------- Map --------------------------------------------//
//----------------------------------------------------------------------------------------------//

function changePOP(value) {
    if (value == 'population_size') {
        return 'Population size'
    }
    if (value == 'number_of_mpi') {
        return 'Number of MPI poor'
    }
}
function changeMPI(value) {
    if (value == 'mpi') {
        return 'MPI'
    }
    if (value == 'population_in_mpi') {
        return 'Population in MPI'
    }
    if (value == 'intensity_of_deprivation') {
        return 'Intensity of deprivation among the poor'
    }
    if (value == 'vulnerable_to_poverty') {
        return 'Vulnerable to poverty'
    }
    if (value == 'in_severe_poverty') {
        return 'In severe poverty'
    }
}
function scaleChangeMPI(value) {
    if (value == 'mpi') {
        return ''
    }
    if (value == 'intensity_of_deprivation') {
        return ' (Average % of weighted deprivations)'
    }
    else {
        return ' (% Population)'
    }
}
// --------------------------------------- ** Cambodia ** --------------------------------------- //
// Population
function KHM_POP_MapChart(mdata) {
    var MapData = mdata.pop_map_data;
    Highcharts.getJSON(khmMap, function (geojson) {

        var KHM_MapContainer = document.getElementById('hc_map01_container');

        // Initialize the chart
        Highcharts.mapChart(KHM_MapContainer, {
            chart: {
                map: geojson,
                //borderWidth: 2,
                backgroundColor: false
            },

            title: {
                text: ''
            },

            accessibility: {
                typeDescription: 'Map of Cambodia.'
            },

            mapNavigation: {
                enabled: true,
                buttonOptions: {
                    verticalAlign: 'bottom'
                }
            },
            colorAxis: {
                minColor: '#FFEABB',
                maxColor: '#061C43',
                stops: [
                    [0, '#DAEAF7'],
                    [0.2, '#4FA5D8'],
                    [0.4, '#0754B0'],
                    [0.6, '#010E54'],
                    [0.8, '#00022B']
                ]
            },
            // Hide the legend of the map
            legend: {
                enabled: true
            },
            series: [{
                data: MapData,
                keys: ['code', 'value'],
                joinBy: ['Province', 'code'],
                name: changePOP(mdata.pop_select),
                tooltip: {
                    pointFormat: '{point.code}: {point.value} Thousands'
                },
                states: {
                    hover: {
                        color: '#F7E8CE'
                    }
                },
                dataLabels: {
                    enabled: true,
                    format: '{point.code}'
                }
            }]
        });
    });
}

// MPI map chart
function KHM_MPI_MapChart(mdata) {
    var MPI_KHMMapData = mdata.mpi_map_data;
    Highcharts.getJSON(khmMap, function (geojson) {

        var KHM_MPI_MapContainer = document.getElementById('hc_map02_container');

        // Initialize the chart
        Highcharts.mapChart(KHM_MPI_MapContainer, {
            chart: {
                map: geojson,
                //borderWidth: 2,
                backgroundColor: false
            },

            title: {
                text: ''
            },

            accessibility: {
                typeDescription: 'Map of Cambodia.'
            },

            mapNavigation: {
                enabled: true,
                buttonOptions: {
                    verticalAlign: 'bottom'
                }
            },
            colorAxis: {
                minColor: '#FFEABB',
                maxColor: '#061C43',
                stops: [
                    [0, '#DAEAF7'],
                    [0.2, '#4FA5D8'],
                    [0.4, '#0754B0'],
                    [0.6, '#010E54'],
                    [0.80, '#00022B']
                ]
            },
            // Hide the legend of the map
            legend: {
                enabled: true
            },
            series: [{
                data: MPI_KHMMapData,
                keys: ['code', 'value'],
                joinBy: ['Province', 'code'],
                name: changeMPI(mdata.mpi_select),
                tooltip: {
                    pointFormat: '{point.code}: {point.value}'+scaleChangeMPI(mdata.mpi_select)
                },
                states: {
                    hover: {
                        color: '#F7E8CE'
                    }
                },
                dataLabels: {
                    enabled: true,
                    format: '{point.code}'
                }
            }]
        });
    });
}
// --------------------------------------- ** Laos ** --------------------------------------- //
// Population
function LAO_POP_MapChart(mdata) {
    var LAO_MapData = mdata.pop_map_data;
    Highcharts.getJSON(laoMap, function (geojson) {

        var LAO_MapContainer = document.getElementById('hc_map03_container');

        // Initialize the chart
        Highcharts.mapChart(LAO_MapContainer, {
            chart: {
                map: geojson,
                //borderWidth: 2,
                backgroundColor: false
            },

            title: {
                text: ''
            },

            accessibility: {
                typeDescription: 'Map of Laos.'
            },

            mapNavigation: {
                enabled: true,
                buttonOptions: {
                    verticalAlign: 'bottom'
                }
            },
            colorAxis: {
                minColor: '#FFEABB',
                maxColor: '#061C43',
                stops: [
                    [0, '#DAEAF7'],
                    [0.2, '#4FA5D8'],
                    [0.4, '#0754B0'],
                    [0.6, '#010E54'],
                    [0.8, '#00022B']
                ]
            },
            // Hide the legend of the map
            legend: {
                enabled: true
            },
            series: [{
                data: LAO_MapData,
                keys: ['code', 'value'],
                joinBy: ['Province', 'code'],
                name: changePOP(mdata.pop_select),
                tooltip: {
                    pointFormat: '{point.code}: {point.value} Thousands'
                },
                states: {
                    hover: {
                        color: '#F7E8CE'
                    }
                },
                dataLabels: {
                    enabled: true,
                    format: '{point.code}'
                }
            }]
        });
    });
}

// MPI map chart
function LAO_MPI_MapChart(mdata) {
    var MPI_LAOMapData = mdata.mpi_map_data;
    Highcharts.getJSON(laoMap, function (geojson) {

        var LAO_MPI_MapContainer = document.getElementById('hc_map04_container');

        // Initialize the chart
        Highcharts.mapChart(LAO_MPI_MapContainer, {
            chart: {
                map: geojson,
                //borderWidth: 2,
                backgroundColor: false
            },

            title: {
                text: ''
            },

            accessibility: {
                typeDescription: 'Map of Laos.'
            },

            mapNavigation: {
                enabled: true,
                buttonOptions: {
                    verticalAlign: 'bottom'
                }
            },
            colorAxis: {
                minColor: '#FFEABB',
                maxColor: '#061C43',
                stops: [
                    [0, '#DAEAF7'],
                    [0.2, '#4FA5D8'],
                    [0.4, '#0754B0'],
                    [0.6, '#010E54'],
                    [0.80, '#00022B']
                ]
            },
            // Hide the legend of the map
            legend: {
                enabled: true
            },
            series: [{
                data: MPI_LAOMapData,
                keys: ['code', 'value'],
                joinBy: ['Province', 'code'],
                name: changeMPI(mdata.mpi_select),
                tooltip: {
                    pointFormat: '{point.code}: {point.value}'+scaleChangeMPI(mdata.mpi_select)
                },
                states: {
                    hover: {
                        color: '#F7E8CE'
                    }
                },
                dataLabels: {
                    enabled: true,
                    format: '{point.code}'
                }
            }]
        });
    });
}
// --------------------------------------- ** Myanmar ** --------------------------------------- //




